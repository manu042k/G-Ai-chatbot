<div class="content">
  <ng-container *ngFor="let message of messageList$ | async">
    <div *ngIf="message.type == 'LLM'" class="LLM-card">
      <div class="LLM-icon">
        <i class="bi bi-motherboard-fill"></i>
      </div>
      <div class="LLM-card-body">
        <p class="card-text font-monospace fw-bold">
          {{ message.content }}
        </p>
      </div>
    </div>
    <div *ngIf="message.type == 'You'" class="human-card">
      <div class="LLM-icon">
        <i class="bi bi-person-lines-fill"></i>
      </div>
      <div class="LLM-card-body">
        <p class="card-text font-monospace fw-bold">
          {{ message.content }}
        </p>
      </div>
    </div>
  </ng-container>

  <!-- bottom-->

  <div class="card bottom fixed-bottom">
    <div
      *ngIf="loading$ | async"
      class="d-flex justify-content-center"
      style="padding: 1%"
    >
      <div class="spinner-grow spinner-grow-sm" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <div class="spinner-grow spinner-grow-sm" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <div class="spinner-grow spinner-grow-sm" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
    <div class="form-floating d-flex align-items-center">
      <textarea
        class="form-control flex-grow-1 font-monospace fw-bold"
        placeholder="Leave a comment here"
        id="floatingTextarea2"
        style="height: 100px; background-color: #cce2f4e4"
        (click)="call($event)"
        [disabled]="loading$ | async"
        value="{{ currentContent }}"
        (input)="onValueChanged($event)"
      ></textarea>
      <label
        class="font-monospace fw-bold"
        [hidden]="dis"
        for="floatingTextarea2"
        style="background: #cce2f4e4"
        >Start typing...</label
      >
      <button
        [disabled]="!enableSendButton()"
        class="btn btn-outline-secondary btn-circle ms-2"
        type="button"
        id="button-addon2"
        (click)="sendMessage()"
      >
        <i class="bi bi-send"></i>
      </button>
    </div>
  </div>
</div>
